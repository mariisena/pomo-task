<!-- 
  Este arquivo é usado pelo service worker para tocar som.
  A API Offscreen do Chrome (Manifest V3) precisa de um documento HTML 
  para criar um AudioContext e tocar sons em segundo plano.
-->
<script>
  function playBeep() {
    const audioContext = new AudioContext();
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();

    oscillator.type = 'sine';
    oscillator.frequency.setValueAtTime(440, audioContext.currentTime);
    gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);

    oscillator.connect(gainNode);
    gainNode.connect(audioContext.destination);

    oscillator.start();
    oscillator.stop(audioContext.currentTime + 0.5);
  }

  playBeep();

  // Fecha este documento offscreen após o som terminar
  setTimeout(() => window.close(), 600);
</script>